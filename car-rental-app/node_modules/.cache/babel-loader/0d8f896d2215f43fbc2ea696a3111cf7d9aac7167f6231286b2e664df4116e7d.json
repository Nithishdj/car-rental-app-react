{"ast":null,"code":"// --- CAR MANAGEMENT ---\nconst handleAddCar = async e => {\n  e.preventDefault();\n  try {\n    // 1. Find the highest ID currently in the list\n    const currentIds = cars.map(car => Number(car.id));\n    const nextId = currentIds.length > 0 ? Math.max(...currentIds) + 1 : 1;\n\n    // 2. Add the ID manually to the new car object\n    const carPayload = {\n      ...newCar,\n      id: nextId\n    };\n\n    // 3. Send to API\n    const res = await api.post('/cars', carPayload);\n    setCars([...cars, res.data]);\n    setShowAddForm(false);\n\n    // Reset form\n    setNewCar({\n      make: '',\n      model: '',\n      year: 2024,\n      category: 'Sedans',\n      pricePerDay: 50,\n      available: true,\n      image: '',\n      transmission: 'Automatic',\n      seats: 5\n    });\n    alert(`Car added successfully with ID: ${nextId}`);\n  } catch (err) {\n    console.error(err);\n    alert('Failed to add car');\n  }\n};","map":{"version":3,"names":["handleAddCar","e","preventDefault","currentIds","cars","map","car","Number","id","nextId","length","Math","max","carPayload","newCar","res","api","post","setCars","data","setShowAddForm","setNewCar","make","model","year","category","pricePerDay","available","image","transmission","seats","alert","err","console","error"],"sources":["C:/Users/Dell/Desktop/React-CP/car-rental-app/src/pages/AdminDashboard.js"],"sourcesContent":["// --- CAR MANAGEMENT ---\r\n  const handleAddCar = async (e) => {\r\n    e.preventDefault();\r\n    try {\r\n      // 1. Find the highest ID currently in the list\r\n      const currentIds = cars.map(car => Number(car.id));\r\n      const nextId = currentIds.length > 0 ? Math.max(...currentIds) + 1 : 1;\r\n\r\n      // 2. Add the ID manually to the new car object\r\n      const carPayload = { ...newCar, id: nextId };\r\n\r\n      // 3. Send to API\r\n      const res = await api.post('/cars', carPayload);\r\n      \r\n      setCars([...cars, res.data]);\r\n      setShowAddForm(false);\r\n      \r\n      // Reset form\r\n      setNewCar({ \r\n        make: '', model: '', year: 2024, category: 'Sedans',\r\n        pricePerDay: 50, available: true, image: '', \r\n        transmission: 'Automatic', seats: 5 \r\n      });\r\n      \r\n      alert(`Car added successfully with ID: ${nextId}`);\r\n    } catch (err) {\r\n      console.error(err);\r\n      alert('Failed to add car');\r\n    }\r\n  };"],"mappings":"AAAA;AACE,MAAMA,YAAY,GAAG,MAAOC,CAAC,IAAK;EAChCA,CAAC,CAACC,cAAc,CAAC,CAAC;EAClB,IAAI;IACF;IACA,MAAMC,UAAU,GAAGC,IAAI,CAACC,GAAG,CAACC,GAAG,IAAIC,MAAM,CAACD,GAAG,CAACE,EAAE,CAAC,CAAC;IAClD,MAAMC,MAAM,GAAGN,UAAU,CAACO,MAAM,GAAG,CAAC,GAAGC,IAAI,CAACC,GAAG,CAAC,GAAGT,UAAU,CAAC,GAAG,CAAC,GAAG,CAAC;;IAEtE;IACA,MAAMU,UAAU,GAAG;MAAE,GAAGC,MAAM;MAAEN,EAAE,EAAEC;IAAO,CAAC;;IAE5C;IACA,MAAMM,GAAG,GAAG,MAAMC,GAAG,CAACC,IAAI,CAAC,OAAO,EAAEJ,UAAU,CAAC;IAE/CK,OAAO,CAAC,CAAC,GAAGd,IAAI,EAAEW,GAAG,CAACI,IAAI,CAAC,CAAC;IAC5BC,cAAc,CAAC,KAAK,CAAC;;IAErB;IACAC,SAAS,CAAC;MACRC,IAAI,EAAE,EAAE;MAAEC,KAAK,EAAE,EAAE;MAAEC,IAAI,EAAE,IAAI;MAAEC,QAAQ,EAAE,QAAQ;MACnDC,WAAW,EAAE,EAAE;MAAEC,SAAS,EAAE,IAAI;MAAEC,KAAK,EAAE,EAAE;MAC3CC,YAAY,EAAE,WAAW;MAAEC,KAAK,EAAE;IACpC,CAAC,CAAC;IAEFC,KAAK,CAAC,mCAAmCtB,MAAM,EAAE,CAAC;EACpD,CAAC,CAAC,OAAOuB,GAAG,EAAE;IACZC,OAAO,CAACC,KAAK,CAACF,GAAG,CAAC;IAClBD,KAAK,CAAC,mBAAmB,CAAC;EAC5B;AACF,CAAC","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}